{"version":3,"file":"js/573.a65b9ee9.js","mappings":"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","sources":["webpack://exercise4/./src/views/Dashboard/pages/productDetail.vue","webpack://exercise4/./src/libs/apis/price.js","webpack://exercise4/./src/views/Dashboard/pages/productDetail.vue?63f4"],"sourcesContent":["<script>\nimport productApi from '../../../libs/apis/product';\nimport priceApi from \"@/libs/apis/price\";\n\nexport default{\n    data() {\n        return {\n            products: [],\n            selectedProduct: null,\n            priceModalShown: false,\n            price: \"\",\n            source: \"\"\n        }\n    },\n    async created() {\n        const id = this.$route.params.id;\n        this.selectedProduct= id\n        this.products = await productApi.getById(id);\n    },\n    methods:{\n        onSelectProduct(){\n            this.priceModalShown = true;\n            console.log(this.selectedProduct);\n        },\n        async onAddPrice(e) {\n            e.preventDefault();\n            const { price, source, selectedProduct } = this;\n            const result = await priceApi.add({\n                price,\n                source,\n                product: selectedProduct\n            });\n            console.log(source);\n            console.log(result);\n            if (result.error) {\n                alert(result.error);\n                return;\n            }\n\n            this.products = await productApi.getById(selectedProduct);\n            this.price = this.source = this.selectedProduct = \"\";\n        },\n    }\n}\n</script>\n\n<template>\n    <main class=\"relative border-collapse border-[5px] gap-y-4 flex flex-col\" v-if=\"products\">\n        <div class=\"text-left font-bold text-[24px]\">Product Detail</div>\n        <div class=\"flex w-full\" v-for=\"product in products\" :key=\"product._id\">\n            <div class=\"w-[200px] h-[180px] rounded-full border-2 flex justify-center items-center\">\n                <img class=\"w-[70px] h-[70px]\" :src=\"'http://localhost:3001/'+product.imageUrl\" alt=\"\">\n            </div>\n            <div class=\"w-full text-left p-2 flex-col flex justify-between\">\n                <span>Title: {{ product.title }}</span>\n                <span>Category: {{ product.category[\"name\"] }}</span>\n                <span>Item: {{ product.item[\"name\"] }}</span>\n                <span>Description: No description</span>\n            </div>\n        </div>\n\n        <div class=\"w-full \">\n            <div class=\"flex justify-between\">\n                <div>Product Prices</div>\n                <button class=\"hover:text-green-600 hover:font-bold p-2 border-[2px]\" @click=\"onSelectProduct()\">Add new price</button>\n            </div>\n            <div>\n                <table class=\" w-full border-collapse text-left border-[1px]\" v-for=\"product in products\" :key=\"product._id\">\n                    <tr class=\"bg-gray-200\">\n                        <th>Prices</th>\n                        <th>Source</th>\n                        <th>Action</th>\n                    </tr>\n                    <tr v-for=\"prices in product.prices\">\n                        <td class=\"pl-2\">{{ prices.price }}$</td>\n                        <td>{{ prices.source }}</td>\n                        <td class=\"flex flex-col\">\n                            <button class=\"text-blue-500\">Edit</button>\n                            <button class=\"text-blue-500\">Delete</button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n        <div\n      v-if=\"priceModalShown && selectedProduct\"\n      class=\"\n        flex\n        justify-center\n        items-center\n        absolute\n        top-0\n        left-0\n        bottom-0\n        right-0\n      \"\n    >\n      <div class=\"w-72 h-96 bg-white rounded-lg shadow-md\">\n        <form @submit=\"onAddPrice\" method=\"post\">\n          <div class=\"h-full w-full flex flex-col\">\n            <div class=\"w-full flex flex-grow p-2\">\n              <div class=\"w-full flex flex-col space-y-3\">\n                <div class=\"border\">\n                  <input\n                    required\n                    v-model=\"price\"\n                    class=\"w-full h-10 px-1\"\n                    type=\"number\"\n                    placeholder=\"Price\"\n                  />\n                </div>\n                <div class=\"border\">\n                  <input\n                    required\n                    v-model=\"source\"\n                    class=\"w-full h-10 px-1\"\n                    type=\"text\"\n                    placeholder=\"Source\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div class=\"flex flex-grow-0 py-1 justify-center space-x-2\">\n              <button\n                v-on:click=\"priceModalShown = false\"\n                class=\"\n                  p-2\n                  px-3\n                  text-gray-500\n                  rounded-md\n                  cursor-pointer\n                  border border-gray-100\n                \"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                class=\"\n                  bg-blue-500\n                  p-2\n                  px-3\n                  text-white\n                  rounded-md\n                  cursor-pointer\n                \"\n              >\n                Add\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    </main>\n    <main v-else>\n        Loading...\n    </main>\n</template>\n","var price = {\n    async add({ price, source, product }) {\n      const res = await fetch(\"http://localhost:3001/price/create\", {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-type\": \"application/json\",\n        },\n        body: JSON.stringify({ price, source, product }),\n      });\n  \n      const result = await res.json();\n      return result;\n    }\n  }\n  \n  export default price\n  ","import { render } from \"./productDetail.vue?vue&type=template&id=493f4d99\"\nimport script from \"./productDetail.vue?vue&type=script&lang=js\"\nexport * from \"./productDetail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/nara/Desktop/Main/I4/Internet-Programming/Project_Final_S2/real/admin/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","type","$data","_createElementBlock","_hoisted_2","_Fragment","_renderList","product","key","_id","src","imageUrl","alt","_toDisplayString","title","category","item","_hoisted_6","_hoisted_9","onClick","$options","_hoisted_10","prices","price","source","_hoisted_12","onSubmit","method","required","$event","placeholder","_hoisted_21","_hoisted_22","async","res","fetch","credentials","headers","body","JSON","stringify","result","json","data","products","selectedProduct","priceModalShown","id","this","$route","params","productApi","methods","onSelectProduct","console","log","e","preventDefault","priceApi","error","alert","__exports__","render"],"sourceRoot":""}