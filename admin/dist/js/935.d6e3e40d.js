"use strict";(self["webpackChunkexercise4"]=self["webpackChunkexercise4"]||[]).push([[935],{3935:function(e,t,o){o.r(t),o.d(t,{default:function(){return N}});var a=o(3396),r=o(9242),l=o(7139);const n=(0,a._)("div",{class:"bg-gray-500 text-white py-2 text-lg text-center"},[(0,a._)("h1",null,"Item")],-1),i={key:0,class:"overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"},s={class:"relative w-[50%] my-6 mx-auto max-w-lg"},d={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},c=(0,a._)("div",{class:"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t"},[(0,a._)("h3",{class:"text-3xl font-semibold"}," Create New Category ")],-1),u={class:"relative justify-center p-6 flex"},p={class:"w-[90%] gap-1 text-left flex flex-col"},g=(0,a._)("label",{for:""},"Name: ",-1),w=(0,a._)("label",{for:""},"Category: ",-1),b=(0,a._)("option",{selected:"",disabled:"",value:""},"Select Category",-1),h=["value"],m=(0,a._)("label",{for:""},"Description: ",-1),y={class:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b"},f={key:1,class:"opacity-25 fixed inset-0 z-40 bg-black"},x={class:"py-2"},_={id:"customers"},v=(0,a._)("tr",{class:"bg-gray-200"},[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Category"),(0,a._)("th",null,"Description")],-1),k={class:"font-bold"};function C(e,t,o,C,M,D){return(0,a.wg)(),(0,a.iD)("main",null,[n,M.showModal?((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",s,[(0,a._)("div",d,[c,(0,a._)("div",u,[(0,a._)("div",p,[g,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>M.name=e),class:"w-full p-2 border-2",type:"text",placeholder:"Ex: Phone",required:""},null,512),[[r.nr,M.name]]),w,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>M.category_id=e),class:"w-full p-2 border-2"},[b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.categories,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,l.zw)(e.name),9,h)))),128))],512),[[r.bM,M.category_id]]),m,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>M.description=e),class:"w-full p-2 border-2",type:"text",placeholder:"Ex: Phone",required:""},null,512),[[r.nr,M.description]])])]),(0,a._)("div",y,[(0,a._)("button",{class:"text-red-500 bg-transparent border border-solid border-red-500 hover:bg-red-500 hover:text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:t[3]||(t[3]=e=>D.toggleModal())}," Close "),(0,a._)("button",{class:"bg-green-500 text-white rounded background-transparent font-bold uppercase px-6 py-3 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",onClick:t[4]||(t[4]=e=>D.create())}," Save Changes ")])])])])):(0,a.kq)("",!0),M.showModal?((0,a.wg)(),(0,a.iD)("div",f)):(0,a.kq)("",!0),(0,a._)("div",x,[(0,a._)("div",null,[(0,a._)("button",{onClick:t[5]||(t[5]=e=>D.toggleModal()),class:"bg-blue-500 text-white p-1 px-2 rounded-md"}," Add new ")])]),(0,a._)("div",null,[(0,a._)("table",_,[v,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(M.items,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.name},[(0,a._)("td",null,(0,l.zw)(e.name),1),(0,a._)("td",k,(0,l.zw)(e.category.name),1),(0,a._)("td",null,(0,l.zw)(e.description),1)])))),128))])])])}var M=o(4161),D=o(2310),j=o.n(D),z={data(){return{categories:[],items:[],name:"",category_id:"",description:"",showModal:!1}},methods:{async create(){const e=JSON.stringify({name:this.name,description:this.description,category_id:this.category_id}),t=await M.Z.post("/api/item/create",e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});t.data.category?this.showModal=!this.showModal:t.data.error.category_id?j()({text:t.data.error.category_id[0],backgroundColor:"red",duration:3e3,close:!0}).showToast():t.data.error.name?j()({text:t.data.error.name[0],backgroundColor:"red",duration:3e3,close:!0}).showToast():t.data.error.description&&j()({text:t.data.error.description[0],backgroundColor:"red",duration:3e3,close:!0}).showToast()},toggleModal:function(){this.showModal=!this.showModal}},async mounted(){const e=await M.Z.get("/api/item/read",{headers:{"Content-Type":"application/json"}}),t=await M.Z.get("/api/category/read?limit=100",{headers:{"Content-Type":"application/json"}});this.categories=await t.data,this.items=await e.data}},T=o(89);const q=(0,T.Z)(z,[["render",C]]);var N=q}}]);
//# sourceMappingURL=935.d6e3e40d.js.map