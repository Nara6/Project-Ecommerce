{"version":3,"file":"js/354.4f4d3210.js","mappings":"wkJAkDSA,MAAM,4D,GACTC,EAAAA,EAAAA,GAA6B,UAAzB,wBAAoB,G,GAoBrBD,MAAM,iB,GACJA,MAAM,iB,GACJA,MAAM,2C,GACTC,EAAAA,EAAAA,GAGM,OAHDD,MAAM,uBAAqB,EAC9BC,EAAAA,EAAAA,GACoC,OAD/BD,MAAM,WACXE,IAAAC,EAA6BC,IAAI,OAFnC,G,GAKGH,EAAAA,EAAAA,GAA0D,OAArDD,MAAM,kCAAiC,YAAQ,G,GAGpDC,EAAAA,EAAAA,GAAsD,OAAjDD,MAAM,kCAAiC,QAAI,G,GAGhDC,EAAAA,EAAAA,GAAyD,OAApDD,MAAM,kCAAiC,WAAO,G,GAIrDA,MAAM,wB,oGAxCfK,EAAAA,EAAAA,IA4CO,cA3CLJ,EAAAA,EAAAA,GAoBM,MApBN,EAoBM,CAnBJK,GACAL,EAAAA,EAAAA,GAgBM,OAfCM,QAAK,eAAEC,EAAAA,YACZR,MAAM,oGAWP,eAMHC,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJA,EAAAA,EAAAA,GAgBM,MAhBN,EAgBM,EAfJA,EAAAA,EAAAA,GAcM,MAdN,EAcM,CAbJQ,GAIAC,EAAAA,EAAAA,IAECC,EAAA,CAFYC,GAAG,aAAW,C,kBACxB,IAA0D,CAA1DC,K,OAEHH,EAAAA,EAAAA,IAECC,EAAA,CAFYC,GAAG,SAAO,C,kBACpB,IAAsD,CAAtDE,K,OAEHJ,EAAAA,EAAAA,IAECC,EAAA,CAFYC,GAAG,YAAU,C,kBACvB,IAAyD,CAAzDG,K,WAIPd,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJS,EAAAA,EAAAA,IAA2BM,SC1FnC,I,6BDKA,GACEC,OACE,MAAO,CACLC,KAAM,KAGVC,gBACI,IACI,MAAMD,QAAaE,EAAAA,EAAAA,IAAU,UAAW,CACpCC,QAAS,CACLC,cAAgB,UAASC,aAAaC,QAAQ,cAGtDC,QAAQC,IAAIR,EAAKD,OACO,IAApBC,EAAKD,KAAKU,SACVC,KAAKC,UAAUX,EAAKD,KAAKa,QACzBF,KAAKG,QAAQC,KAAK,CAAEC,KAAM,iBAE1BL,KAAKV,KAAOA,EAAKD,KAAKC,KAE1BU,KAAKM,SAAU,EACjB,MAAOC,GACLV,QAAQU,MAAM,uBAAwBA,GACtCP,KAAKM,SAAU,IAGvBE,QAAS,CACPjB,iBACEI,aAAac,WAAW,SACxBT,KAAKG,QAAQO,GAAGV,KAAKG,QAAQQ,eAE/BV,UAAUW,GACRC,GAAAA,CAAS,CACPC,KAAMF,EACNG,gBAAiB,MACjBC,SAAU,IACVC,OAAO,IACNhB,e,QErCT,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://exercise4/./src/views/Dashboard/dashboard.vue","webpack://exercise4/./src/libs/apis/auth.js","webpack://exercise4/./src/views/Dashboard/dashboard.vue?f698"],"sourcesContent":["<script >\nimport authApi from \"@/libs/apis/auth\";\nimport axios from 'axios';\nimport Toastify from 'toastify-js';\n\nexport default {\n  data() {\n    return {\n      user: ''\n    }\n  },\n  async mounted() {\n      try {\n          const user = await axios.get('/api/me', {\n              headers: {\n                  Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n              }\n          });\n          console.log(user.data);\n          if (user.data.success===false) {\n              this.showToast(user.data.status)\n              this.$router.push({ path: '/auth/login' });\n          } else {\n              this.user = user.data.user;\n          }\n          this.loading = false; // Set loading to false once data is fetched\n      } catch (error) {\n          console.error('Error fetching data:', error);\n          this.loading = false; // Set loading to false in case of an error as well\n      }\n  },\n  methods: {\n    async onLogout() {\n      localStorage.removeItem('token')\n      this.$router.go(this.$router.currentRoute);\n    },\n    showToast(msg){\n      Toastify({\n        text: msg,\n        backgroundColor: \"red\",\n        duration: 3000, // 3 seconds\n        close: true,\n      }).showToast();\n    }\n  },\n};\n</script>\n\n<template >\n  <main>\n    <div class=\"bg-gray-500 text-white py-2 text-lg text-center relative\">\n      <h1>Admin Dashboard Page</h1>\n      <div\n        v-on:click=\"onLogout()\"\n        class=\"\n          absolute\n          text-white\n          right-2\n          top-2\n          bg-gray-400\n          hover:bg-yellow-400\n          px-2\n          rounded-md\n          cursor-pointer\n        \"\n      >\n        Logout\n\n      </div>\n      \n    </div>\n    <div class=\"flex flex-row\">\n      <div class=\"basis-1/5 p-1\">\n        <div class=\"flex flex-col p-3 space-y-3 bg-gray-200\">\n          <div class=\"flex justify-center\">\n            <img class=\"w-[50px]\"\n            src=\"../../assets/logo1.png\" alt=\"\">\n          </div>\n          <router-link to=\"/category\"\n            ><div class=\"hover:bg-white hover:font-bold\">Category</div></router-link\n          >\n          <router-link to=\"/item\"\n            ><div class=\"hover:bg-white hover:font-bold\">Item</div></router-link\n          >\n          <router-link to=\"/product\"\n            ><div class=\"hover:bg-white hover:font-bold\">Product</div></router-link\n          >\n        </div>\n      </div>\n      <div class=\"basic-4/5 p-1 w-full\">\n        <router-view></router-view>\n      </div>\n    </div>\n  </main>\n</template>\n\n<style>\n</style>","var auth = {\n    async getMe() {\n      const res = await fetch(\"http://localhost:3001/auth/me\", {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Origin: \"http://localhost:8080\",\n        },\n      });\n  \n      const result = await res.json();\n      if (result?.success == false) return false\n      return result;\n    },\n    async logout() {\n      const res = await fetch(\"http://localhost:3001/auth/logout\", {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Origin: \"http://localhost:8080\",\n        },\n      });\n  \n      const result = await res.json();\n      console.log(result);\n      if (result?.success == false) return false\n      return result;\n    },\n  }\n  \nexport default auth\n  ","import { render } from \"./dashboard.vue?vue&type=template&id=cd658fba\"\nimport script from \"./dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/nara/Desktop/Main/I4/Internet-Programming/Project_Final_S2/real/admin/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","src","_imports_0","alt","_createElementBlock","_hoisted_2","onClick","$options","_hoisted_6","_createVNode","_component_router_link","to","_hoisted_7","_hoisted_8","_hoisted_9","_component_router_view","data","user","async","axios","headers","Authorization","localStorage","getItem","console","log","success","this","showToast","status","$router","push","path","loading","error","methods","removeItem","go","currentRoute","msg","Toastify","text","backgroundColor","duration","close","__exports__","render"],"sourceRoot":""}