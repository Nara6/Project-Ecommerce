{"version":3,"file":"js/313.7030eae2.js","mappings":"yMAgFIA,EAAAA,EAAAA,GAEM,OAFDC,MAAM,mDAAiD,EAC1DD,EAAAA,EAAAA,GAAiB,UAAb,cADN,G,SAIsBC,MAAM,yH,GACrBA,MAAM,0C,GAEJA,MAAM,wG,GAETD,EAAAA,EAAAA,GAIM,OAJDC,MAAM,yFAAuF,EAChGD,EAAAA,EAAAA,GAEK,MAFDC,MAAM,0BAAyB,2BADrC,G,GAMKA,MAAM,oC,GACJA,MAAM,yC,GACTD,EAAAA,EAAAA,GAA4B,SAArBE,IAAI,IAAG,UAAM,G,GAGpBF,EAAAA,EAAAA,GAAmC,SAA5BE,IAAI,IAAG,iBAAa,G,GAG3BF,EAAAA,EAAAA,GAA4B,SAArBE,IAAI,IAAG,UAAM,G,GAOnBD,MAAM,sF,SAWKA,MAAM,0C,GAEvBA,MAAM,Q,GAUFE,GAAG,a,GACRH,EAAAA,EAAAA,GAIK,MAJDC,MAAM,eAAa,EACrBD,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAoB,UAAhB,gBACJA,EAAAA,EAAAA,GAAiB,UAAb,cAHN,G,GASMC,MAAM,uB,oDAhElBG,EAAAA,EAAAA,IAqEO,aApELC,GAGAL,EAAAA,EAAAA,GAuCI,YAtCOM,EAAAA,YAAAA,EAAAA,EAAAA,OAAXF,EAAAA,EAAAA,IAoCM,MApCN,EAoCM,EAnCJJ,EAAAA,EAAAA,GAkCM,MAlCN,EAkCM,EAhCJA,EAAAA,EAAAA,GA+BM,MA/BN,EA+BM,CA7BJO,GAMAP,EAAAA,EAAAA,GAaM,MAbN,EAaM,EAZJA,EAAAA,EAAAA,GAWM,MAXN,EAWM,CAVJQ,GAUI,SATJR,EAAAA,EAAAA,GAC6C,S,qCAD7BM,EAAAA,KAAIG,GAAER,MAAM,sBAC5BS,KAAK,OAAOC,YAAY,YAAYC,SAAA,IADpC,iBAAgBN,EAAAA,QAEhBO,GAOI,SANJb,EAAAA,EAAAA,GAC6C,S,qCAD7BM,EAAAA,YAAWG,GAAER,MAAM,sBACnCS,KAAK,OAAOC,YAAY,YAAYC,SAAA,IADpC,iBAAgBN,EAAAA,eAEhBQ,GACAd,EAAAA,EAAAA,GAEC,SAFMU,KAAK,OACXK,SAAM,eAAEC,EAAAA,iBAAiBP,KAD1B,cAMJT,EAAAA,EAAAA,GAOM,MAPN,EAOM,EANJA,EAAAA,EAAAA,GAES,UAFDC,MAAM,qPAA0PgB,QAAK,eAAED,EAAAA,gBAAe,YAG9RhB,EAAAA,EAAAA,GAES,UAFDC,MAAM,iLAAkLgB,QAAK,eAAED,EAAAA,WAAU,4BA9BzN,eAqCWV,EAAAA,YAAAA,EAAAA,EAAAA,OAAXF,EAAAA,EAAAA,IAA2E,MAA3E,uBAEAJ,EAAAA,EAAAA,GAQM,MARN,EAQM,EAPJA,EAAAA,EAAAA,GAKS,UAJNiB,QAAK,eAAED,EAAAA,eACRf,MAAM,8CACP,gBAKHD,EAAAA,EAAAA,GAeM,aAdJA,EAAAA,EAAAA,GAaQ,QAbR,EAaQ,CAZNkB,IAYM,aANNd,EAAAA,EAAAA,IAKKe,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALcd,EAAAA,YAARe,K,WAAXjB,EAAAA,EAAAA,IAKK,MAL2BkB,IAAKD,EAAKE,MAA1C,EACEvB,EAAAA,EAAAA,GAAwB,WAAAwB,EAAAA,EAAAA,IAAjBH,EAAKE,MAAI,IAChBvB,EAAAA,EAAAA,GAA+B,WAAAwB,EAAAA,EAAAA,IAAxBH,EAAKI,aAAW,IACvBzB,EAAAA,EAAAA,GAC6C,KAD7C,EAC6C,EADbA,EAAAA,EAAAA,GACQ,OADHC,MAAM,kBACxCyB,IAAG,SAAWL,EAAKM,UAAWC,IAAI,IADL,iBAHlC,Y,iCAxIR,GACEC,OACE,MAAO,CACLC,WAAY,GACZP,KAAM,GACNE,YAAa,GACbE,UAAW,GACXI,WAAW,IAGfC,QAAS,CACPC,iBAAiBC,GACfC,KAAKR,UAAYO,EAAEE,OAAOC,MAAM,GAChCC,QAAQC,IAAIJ,KAAKR,YAEnBa,eAEE,IAAIC,EAAW,IAAIC,SACnBD,EAASE,OAAO,OAAQR,KAAKZ,MAC7BkB,EAASE,OAAO,cAAeR,KAAKV,aACpCgB,EAASE,OAAO,YAAaR,KAAKR,WAElC,MAAMiB,QAAYC,EAAAA,EAAAA,KAAW,uBAAuBJ,EAAS,CAC3DK,QAAS,CACP,cAAkB,UAASC,aAAaC,QAAQ,WAChD,eAAgB,yBAIpB,GAAGJ,EAAIf,KAAKoB,SAAS,CACnBd,KAAKJ,WAAaI,KAAKJ,UACvB,MAAMa,QAAYC,EAAAA,EAAAA,IAAU,+BAA+B,CACzDC,QAAQ,CAAC,eAAgB,sBAE3BX,KAAKL,iBAAmBc,EAAIf,UAEzBe,EAAIf,KAAKqB,MAAMvB,UAChBwB,GAAAA,CAAS,CACTC,KAAMR,EAAIf,KAAKqB,MAAMvB,UAAU,GAC/B0B,gBAAiB,MACjBC,SAAU,IACVC,OAAO,IACNC,YACMZ,EAAIf,KAAKqB,MAAM3B,KACtB4B,GAAAA,CAAS,CACTC,KAAMR,EAAIf,KAAKqB,MAAM3B,KAAK,GAC1B8B,gBAAiB,MACjBC,SAAU,IACVC,OAAO,IACJC,YACIZ,EAAIf,KAAKqB,MAAMzB,aACtB0B,GAAAA,CAAS,CACTC,KAAMR,EAAIf,KAAKqB,MAAMzB,YAAY,GACjC4B,gBAAiB,MACjBC,SAAU,IACVC,OAAO,IACJC,aAITC,YAAa,WACXtB,KAAKJ,WAAaI,KAAKJ,YAG3BS,gBAEE,MAAMI,QAAYC,EAAAA,EAAAA,IAAU,+BAA+B,CACzDC,QAAQ,CAAC,eAAgB,sBAE3BX,KAAKL,iBAAmBc,EAAIf,O,QClEhC,MAAM6B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://exercise4/./src/views/Dashboard/pages/category.vue","webpack://exercise4/./src/views/Dashboard/pages/category.vue?7721"],"sourcesContent":["<script >\nimport axios from 'axios';\nimport Toastify from 'toastify-js';\n\nexport default {\n  data() {\n    return {\n      categories: [],\n      name: \"\",\n      description: \"\",\n      image_url: \"\",\n      showModal: false\n    };\n  },\n  methods: {\n    handleFileUpload(e){\n      this.image_url = e.target.files[0];\n      console.log(this.image_url);\n    },\n    async create() {\n      // e.preventDefault();\n      var bodyData = new FormData();\n      bodyData.append('name', this.name);\n      bodyData.append('description', this.description);\n      bodyData.append('image_url', this.image_url);\n\n      const res = await axios.post('/api/category/create',bodyData,{\n        headers: {\n          \"Authorization\": `Bearer ${localStorage.getItem(\"token\")}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      // console.log(res.data);\n      if(res.data.category){\n        this.showModal = !this.showModal;\n        const res = await axios.get('/api/category/read?limit=100',{\n          headers:{'Content-Type': 'application/json'}\n        });\n        this.categories = await res.data;\n      }else{\n        if(res.data.error.image_url){\n          Toastify({\n          text: res.data.error.image_url[0],\n          backgroundColor: \"red\",\n          duration: 3000, // 3 seconds\n          close: true,\n        }).showToast();\n        }else if(res.data.error.name){\n          Toastify({\n          text: res.data.error.name[0],\n          backgroundColor: \"red\",\n          duration: 3000, // 3 seconds\n          close: true,\n          }).showToast();\n        }else if(res.data.error.description){\n          Toastify({\n          text: res.data.error.description[0],\n          backgroundColor: \"red\",\n          duration: 3000, // 3 seconds\n          close: true,\n          }).showToast();\n        }\n      }\n    },\n    toggleModal: function(){\n      this.showModal = !this.showModal;\n    }\n  },\n  async mounted() {\n    // this.categories = await categoryApi.all();\n    const res = await axios.get('/api/category/read?limit=100',{\n      headers:{'Content-Type': 'application/json'}\n    });\n    this.categories = await res.data;\n  },\n};\n</script>\n\n<template >\n  <main>\n    <div class=\"bg-gray-500 text-white py-2 text-lg text-center\">\n      <h1>Category</h1>\n    </div>\n    <div>\n    <div v-if=\"showModal\" class=\"overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex\">\n      <div class=\"relative w-[50%] my-6 mx-auto max-w-lg\">\n        <!--content-->\n        <div class=\"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none\">\n          <!--header-->\n          <div class=\"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t\">\n            <h3 class=\"text-3xl font-semibold\">\n              Create New Category\n            </h3>\n          </div>\n          <!--body-->\n          <div class=\"relative justify-center p-6 flex\">\n            <div class=\"w-[90%] gap-1 text-left flex flex-col\">\n              <label for=\"\">Name: </label>\n              <input v-model=\"name\" class=\"w-full p-2 border-2\"\n              type=\"text\" placeholder=\"Ex: Phone\" required>\n              <label for=\"\">Description: </label>\n              <input v-model=\"description\" class=\"w-full p-2 border-2\"\n              type=\"text\" placeholder=\"Ex: Phone\" required>\n              <label for=\"\">File: </label>\n              <input type=\"file\"\n              @change=\"handleFileUpload($event)\"\n              >\n            </div>\n          </div>\n          <!--footer-->\n          <div class=\"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b\">\n            <button class=\"text-red-500 bg-transparent border border-solid border-red-500 hover:bg-red-500 hover:text-white active:bg-red-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\" v-on:click=\"toggleModal()\">\n              Close\n            </button>\n            <button class=\"bg-green-500 text-white rounded background-transparent font-bold uppercase px-6 py-3 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150\" @click=\"create()\">\n              Save Changes\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"showModal\" class=\"opacity-25 fixed inset-0 z-40 bg-black\"></div>\n  </div>\n    <div class=\"py-2\">\n      <button\n        @click=\"toggleModal()\"\n        class=\"bg-blue-500 text-white p-1 px-2 rounded-md\"\n      >\n        Add new\n      </button>\n     \n    </div>\n    <div>\n      <table id=\"customers\">\n        <tr class=\"bg-gray-200\">\n          <th>Name</th>\n          <th>Description</th>\n          <th>ImageURL</th>\n        </tr>\n\n        <tr v-for=\"cate in categories\" :key=\"cate.name\">\n          <td>{{ cate.name }}</td>\n          <td>{{ cate.description }}</td>\n          <td class=\"flex justify-center\"><img class=\"w-[100px] h-fit\" \n            :src=\"'/image'+cate.image_url\" alt=\"\"></td>\n        </tr>\n      </table>\n    </div>\n  </main>\n</template>\n\n<style>\n#customers {\n  font-family: Arial, Helvetica, sans-serif;\n  border-collapse: collapse;\n  width: 100%;\n  overflow-y: auto;\n}\n\n#customers td,\n#customers th {\n  border: 1px solid #ddd;\n  padding: 8px;\n}\n\n#customers tr:nth-child(even) {\n  background-color: #f2f2f2;\n}\n\n#customers tr:hover {\n  background-color: #ddd;\n}\n</style>\n","import { render } from \"./category.vue?vue&type=template&id=adccdf8c\"\nimport script from \"./category.vue?vue&type=script&lang=js\"\nexport * from \"./category.vue?vue&type=script&lang=js\"\n\nimport \"./category.vue?vue&type=style&index=0&id=adccdf8c&lang=css\"\n\nimport exportComponent from \"/Users/nara/Desktop/Main/I4/Internet-Programming/Project_Final_S2/real/admin/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","id","_createElementBlock","_hoisted_1","$data","_hoisted_5","_hoisted_8","$event","type","placeholder","required","_hoisted_9","_hoisted_10","onChange","$options","onClick","_hoisted_15","_Fragment","_renderList","cate","key","name","_toDisplayString","description","src","image_url","alt","data","categories","showModal","methods","handleFileUpload","e","this","target","files","console","log","async","bodyData","FormData","append","res","axios","headers","localStorage","getItem","category","error","Toastify","text","backgroundColor","duration","close","showToast","toggleModal","__exports__","render"],"sourceRoot":""}